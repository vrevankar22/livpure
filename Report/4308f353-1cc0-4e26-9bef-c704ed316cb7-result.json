{"name": "test_verify_signupWithRefCode", "status": "broken", "statusDetails": {"message": "ValueError: invalid literal for int() with base 10: ''", "trace": "self = <testcases.test_smartWaterSubscription.TestSmartWaterSubscription object at 0x0000016AC8669250>\n\n    def test_verify_signupWithRefCode(self):\n>       self.verify_signupWithRefCode(readData(excel,'SignUp',15,9),readData(excel,'SignUp',15,4))\n\ntestcases\\test_smartWaterSubscription.py:130: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <testcases.test_smartWaterSubscription.TestSmartWaterSubscription object at 0x0000016AC8669250>, refCode = 'BF0ID2', referUN = 'Test'\n\n    def verify_signupWithRefCode(self,refCode,referUN):\n        log = self.getLogger()\n        username = \"Test_\" + self.random_generatorString()\n        XLUtils.writeData(excel,'SignUp',25,1,username)\n        email = self.random_generator() + \"@gmail.com\"\n        XLUtils.writeData(excel, 'SignUp',25,2,email)\n        mobile = \"95\" + self.random_generatordigits()\n        XLUtils.writeData(excel, 'SignUp', 25, 4, mobile)\n        self.click(SignUpPage.subscribeBtn)\n        self.clickAndSendText(SignUpPage.yourNameTxtBox,username)\n        self.clickAndSendText(SignUpPage.emailTxtBox, email)\n        self.clickAndSendText(SignUpPage.mobileTxtBox, mobile)\n        self.click(SignUpPage.cityDropdown)\n        time.sleep(4)\n        cityList = self.driver.find_elements(By.XPATH, \"//div[@class='v-list-item__content']\")\n        for city in cityList:\n            if city.text == \"Bengaluru\":\n                city.click()\n        self.clickAndSendText(SignUpPage.passwordTxtBox,'Test@1234')\n        self.clickAndSendText(SignUpPage.referralBox,'ref')\n        self.driver.find_element(By.XPATH,\"//div[text()='Please enter the six digit referral code']\").is_displayed()\n        self.clickAndSendText(SignUpPage.referralBox,'refcode1')\n        self.driver.find_element(By.XPATH,\"//div[text()='Invalid referral code']\").is_displayed()\n        self.clear(SignUpPage.referralBox)\n        self.clickAndSendText(SignUpPage.referralBox,refCode)\n        refmsg = self.driver.find_element(By.XPATH,\"//div[contains(text(),'Subscribe and recharge to claim your referral benefits from \"+referUN+\"')]\").text\n        assert 'referral benefits' in refmsg, 'referral benefits message not displayed'\n        log.info('referral benefits message displayed')\n        time.sleep(5)\n        ele = self.driver.find_element(By.XPATH,\"//button[@type='submit']//span[contains(.,'Sign Up For 7 Days Trial')]\")\n        self.driver.execute_script(\"arguments[0].click();\", ele)\n        time.sleep(5)\n        self.click(SignUpPage.silver6_radio)\n        price = self.driver.find_element(By.XPATH,\"(//button[@data-parent='tabsilver'][@data-duration='6']//div[@class='price-month']//span[1])[1]\").text\n        actprice = ''\n        for val in price:\n            if val.isdigit():\n                actprice = actprice + val\n        months = self.driver.find_element(By.XPATH,\"//button[@data-parent='tabsilver'][@data-duration='6']//p//span[1]\").text\n        finalValue = int(actprice) * int(months) - 100\n        self.click1(SignUpPage.proceedToPaySilver)\n        time.sleep(5)\n        self.clickAndSendText(SignUpPage.addressLine1,'109')\n        self.clickAndSendText(SignUpPage.addressLine2,'HAL')\n        self.clickAndSendText(SignUpPage.pincode,'560008')\n        self.click(SignUpPage.areaDropdown)\n        time.sleep(5)\n        self.driver.find_element(By.XPATH,\"//div[@class='v-list-item__content']//div[text()='BANGALORE NORTH']\").click()\n        self.click1(SignUpPage.IAddcityDropdown)\n        time.sleep(5)\n        self.driver.find_element(By.XPATH, \"//div[@class='v-list-item__content']//div[text()='Bengaluru']\").click()\n        time.sleep(8)\n        self.click1(SignUpPage.saveAndContinueBtn)\n        TotalPayAmount = self.getText(SignUpPage.totalPayAmount)\n        finalPay = ''\n        for i in TotalPayAmount:\n            if i.isdigit():\n                finalPay = finalPay + i\n        time.sleep(4)\n        assert int(finalPay) == finalValue, \"Discount not applied\"\n        log.info(\"Discount applied\")\n        self.click1(SignUpPage.payBtn)\n        window_before1 = self.driver.window_handles[-1]\n        window_before = self.driver.window_handles[0]\n        self.driver.switch_to.frame(0)\n        self.click1(SignUpPage.netBanking)\n        self.click1(SignUpPage.sbibank)\n        self.click1(SignUpPage.paymentBtn)\n        window_after = self.driver.window_handles[1]\n        self.driver.switch_to.window(window_after)\n        self.click(SignUpPage.successBtn)\n        self.driver.switch_to.window(window_before1)\n        time.sleep(5)\n        # also verify referral code can be applied for one time\n        self.click(SignUpPage.menu_profileLink)\n        self.click(SignUpPage.planDetailsTab)\n        self.click(SignUpPage.silverplan)\n        self.click(SignUpPage.updateNowBtn)\n        monthtxt = self.driver.find_element(By.XPATH,\"(//span[@class='planmonth'])[1]\").text\n        expectedtxt1 = ''\n        for i in monthtxt:\n            if i.isdigit():\n                expectedtxt1 = expectedtxt1 + i\n        pricetxt = self.driver.find_element(By.XPATH,\"(//div[@class='priceDetails']//div[@class='offerPrice blue'])[1]\").text\n        expectedprice1 = ''\n        for j in pricetxt:\n            if j.isdigit():\n                expectedprice1 = expectedprice1 + j\n>       finalPrice = int(expectedtxt1) * int(expectedprice1)\nE       ValueError: invalid literal for int() with base 10: ''\n\nPages\\smartWaterSubscriptionPage.py:1140: ValueError"}, "attachments": [{"name": "log", "source": "1f6d57d0-d990-4bdf-9942-feabefefc921-attachment.txt", "type": "text/plain"}], "start": 1625055817584, "stop": 1625055888425, "uuid": "267be0d8-b5c4-41f2-b833-46df2f55c7aa", "historyId": "e7da6afead551a1e94a995a239d15330", "testCaseId": "b9435b646cc6dba3bae3fbaf5236d99c", "fullName": "testcases.test_smartWaterSubscription.TestSmartWaterSubscription#test_verify_signupWithRefCode", "labels": [{"name": "tag", "value": "@pytest.mark.usefixtures('setup')"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_smartWaterSubscription"}, {"name": "subSuite", "value": "TestSmartWaterSubscription"}, {"name": "host", "value": "RPS-SBC-L-0008"}, {"name": "thread", "value": "29744-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_smartWaterSubscription"}]}